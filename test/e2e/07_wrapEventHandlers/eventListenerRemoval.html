<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>eventListenerRemoval test</title>

  <script>
    window.onEumLoad = function(eum) {
      eum('wrapEventHandlers', true);
    };
  </script>
  <script src="/e2e/initializer.js"></script>
  <script crossorigin="anonymous" defer src="/target/eum.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
</head>
<body>
  <button type="button"
          id="button">
    Increase counter
  </button>

  <div id="output"></div>

  <script>
    (function() {
      var count = 0;
      var btn = document.getElementById('button');
      btn.addEventListener('click', onClick);
      function onClick() {
        $('#output').text(count++);
        btn.removeEventListener('click', onClick);
      }
    })();
  </script>
</body>
</html>
